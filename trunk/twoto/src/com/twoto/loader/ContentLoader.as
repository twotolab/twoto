package com.twoto.loader{	import com.twoto.events.UiEvent;		import flash.display.Loader;	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.HTTPStatusEvent;	import flash.events.IOErrorEvent;	import flash.events.ProgressEvent;	import flash.net.URLRequest;
		/**	* ...	*  @author Patrick Decaix  [patrick.decaix@interone.de]	*/	public class ContentLoader extends Loader 	{				public var loaderProgressEvent:ProgressEvent;				public function ContentLoader(_url:String){						super();			//trace("_url: "+_url);			var urlRequest:URLRequest = new URLRequest(_url);			contentLoaderInfo.addEventListener(Event.COMPLETE, initContent);			contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);			contentLoaderInfo.addEventListener(ProgressEvent.PROGRESS, progressHandlerContent);			//if on other server			//contentLoaderInfo.addEventListener(HTTPStatusEvent.HTTP_STATUS, httpStatusHandler);			try				{					load(urlRequest);				}				catch (error:ArgumentError)				{					trace("An ArgumentError has occurred.");				}				catch (error:SecurityError)				{					trace("A SecurityError has occurred.");				}		}		private function ioErrorHandler(event:IOErrorEvent):void {			trace("ioErrorHandler: " + event);		}				private function progressHandlerContent(event:ProgressEvent):void {						loaderProgressEvent = event;			dispatchEvent(new UiEvent(UiEvent.CONTENT_LOADING));		}				private function initContent(e:Event):void 		{			dispatchEvent(new UiEvent(UiEvent.CONTENT_LOADED));			contentLoaderInfo.removeEventListener(ProgressEvent.PROGRESS, progressHandlerContent);			contentLoaderInfo.removeEventListener(HTTPStatusEvent.HTTP_STATUS, httpStatusHandler);			contentLoaderInfo.removeEventListener(IOErrorEvent.IO_ERROR, ioErrorHandler);		}		private function httpStatusHandler(event:HTTPStatusEvent):void {            			trace("http doesn't exist: " + event);        }	}	}